"use strict";(self["webpackChunkvue_crm"]=self["webpackChunkvue_crm"]||[]).push([[14],{6014:function(i,e,r){r.r(e),r.d(e,{default:function(){return h}});var a=r(3396),s=r(9242),l=r(7139);const t={class:"empty-layout login"},o=(0,a._)("h1",null,"Login",-1),n={class:"wrapper-login"},d={class:"wrapper-login"},m=(0,a._)("div",{class:"logout"},[(0,a._)("button",{type:"submit",class:"btn"},"login")],-1);function p(i,e,r,p,u,v){const $=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",t,[o,(0,a._)("form",{class:"main-form",onSubmit:e[2]||(e[2]=(0,s.iM)(((...i)=>v.onSubmit&&v.onSubmit(...i)),["prevent"]))},[(0,a._)("div",n,[(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Login","onUpdate:modelValue":e[0]||(e[0]=i=>p.v$.email.$model=i)},null,512),[[s.nr,p.v$.email.$model,void 0,{trim:!0}]]),(0,a._)("p",{class:(0,l.C_)([{invalid:p.v$.email.$dirty&&p.v$.email.required.$invalid},"error"])},"Поле не должно быть пустым ",2),(0,a._)("p",{class:(0,l.C_)([{invalid:p.v$.email.$dirty&&p.v$.email.email.$invalid},"error"])},"Введите корекктный email ",2)]),(0,a._)("div",d,[(0,a.wy)((0,a._)("input",{type:"password",name:"p",placeholder:"Password","onUpdate:modelValue":e[1]||(e[1]=i=>p.v$.password.$model=i)},null,512),[[s.nr,p.v$.password.$model,void 0,{trim:!0}]]),(0,a._)("p",{class:(0,l.C_)([{invalid:p.v$.password.$dirty&&p.v$.password.required.$invalid},"error"])},"Введите пароль ",2),(0,a._)("p",{class:(0,l.C_)([{invalid:p.v$.password.$dirty&&p.v$.password.minLength.$invalid},"error"])},"Пароль быть больше "+(0,l.zw)(p.v$.password.minLength.$params.min)+" симовлов, а вы ввели "+(0,l.zw)(i.password.length),3)]),m],32),(0,a.Wm)($,{to:"/register",class:"profile"},{default:(0,a.w5)((()=>[(0,a.Uk)("Register")])),_:1})])}r(7658);var u=r(4219),v=r(5420),$={name:"login",setup(){return{v$:(0,u.ZP)()}},data:()=>({email:"",password:"Xiaomi202020ST"}),validations:{email:{required:v.C1,email:v.Do},password:{required:v.C1,minLength:(0,v.Ei)(12)}},methods:{async onSubmit(){if(this.v$.$invalid)this.v$.$touch();else if(!this.v$.$error){const e={email:this.email,password:this.password};try{await this.$store.dispatch("login",e),this.$router.push("/")}catch(i){}}}}},c=r(89);const w=(0,c.Z)($,[["render",p]]);var h=w}}]);
//# sourceMappingURL=14.62d0512b.js.map